language: cpp

compiler:
    - g++-4.8
    - clang++-3.5

before_install:
    - sudo add-apt-repository -y ppa:ubuntu-toolchain-r/test
    - wget -O llvm.key http://llvm.org/apt/llvm-snapshot.gpg.key && sudo apt-key add llvm.key
    - sudo add-apt-repository -y 'deb http://llvm.org/apt/trusty/ llvm-toolchain-trusty-3.5 main'
    - sudo apt-get update

install:
    - sudo apt-get install g++-4.8 # install g++-4.8 library regardless, for std lib update
    - if [ "$CXX" == "g++" ]; then export CXX=g++-4.8; fi
    - if [ "$CXX" == "clang++" ]; then sudo apt-get install clang-3.5 && export CXX=clang++-3.5; fi

before_script:
    - mkdir build
    - cd build
    - mkdir TemplatiousLib
    - cd TemplatiousLib
    - git clone https://github.com/davidkazlauskas/templatious.git
    - cd ..
    - cmake ..

script: make && ./a.out

env:
    - TEMPLATIOUS_DIR=$TRAVIS_BUILD_DIR/build/TemplatiousLib

os:
    -linux

